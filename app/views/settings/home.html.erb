<h3 class="display-5 text-center">Settings</h3>
<div data-controller="settings">
  <div class="alert alert-success fade show" role="alert" id="permissionNotifications" data-target="settings.permissionAlert">
    Permissions have been set.
  </div>

  <nav>
    <div class="nav nav-tabs mb-2" id="nav-tab" role="tablist">
      <!-- <a class="nav-item nav-link active" id="nav-user-tab" data-toggle="tab" href="#nav-user" role="tab" aria-controls="nav-user" aria-selected="true">Users</a> -->
      <a class="nav-item nav-link" id="nav-role-tab" data-toggle="tab" href="#nav-role" role="tab" aria-controls="nav-role" aria-selected="false">Roles</a>
      <a class="nav-item nav-link" id="nav-key-tab" data-toggle="tab" href="#nav-key" role="tab" aria-controls="nav-key" aria-selected="false">Keys</a>
      <a class="nav-item nav-link" id="nav-permission-tab" data-toggle="tab" data-action="settings#loadTableData" href="#nav-permission" role="tab" aria-controls="nav-permission" aria-selected="false">Permissions</a>
      <a class="nav-item nav-link" id="uits-settings-tab" data-toggle="tab" href="#uits-settings" role="tab" aria-controls="uits-key" aria-selected="false">UITS Settings</a>
      <a class="nav-item nav-link" id="pfl-settings-tab" data-toggle="tab" href="#pfl-settings" role="tab" aria-controls="pfl-key" aria-selected="false">PFL Settings</a>
    </div>
  </nav>
  <div class="tab-content" id="nav-tabContent">
    <!--
    <div class="tab-pane fade show active" id="nav-user" role="tabpanel" aria-labelledby="nav-user-tab">
      Im the user tab Content
    </div> -->

    <div class="tab-pane fade" id="uits-settings" role="tabpanel" aria-labelledby="uits-settings-tab">
      <div class="row">

        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h6 class="card-title">Configuration Settings</h6>
              <ul class="list-group">
                <a class="list-group-item">
                  Unemployemnt Insurance Contribution Rate Max
                  <i class="material-icons pull-xs-right">
                    3.5%
                  </i>
                </a>
                <a class="list-group-item">
                  Unemployemnt Insurance Contribution Rate
                  <i class="material-icons pull-xs-right">
                    2.2%
                  </i>
                </a>
                <a class="list-group-item">
                  Unemployemnt Insurance Contribution Rate - New Employer
                  <i class="material-icons pull-xs-right">
                    2.7%
                  </i>
                </a>
                <a class="list-group-item">
                  Unemployemnt Insurance Administrative Assessment Rate
                  <i class="material-icons pull-xs-right">
                    0.02%
                  </i>
                </a>
                <a class="list-group-item">
                  Paid Family Leave Contribution Rate
                  <i class="material-icons pull-xs-right">
                    0.063%
                  </i>
                </a>
                <a class="list-group-item">
                  Paid Family Leave Administrative Assessment Rate
                  <i class="material-icons pull-xs-right">
                    0.02%
                  </i>
                </a>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card value-card">
            <div class="card-body">
              <h6 class="card-title">Picklist Values</h6>
              <div class="form-group">
                <label for="exampleFormControlSelect1">Select a type to edit its values</label>
                <select class="form-control" id="exampleFormControlSelect1" data-action="settings#picklistChange">
                  <option value='employer_types_select'>Employer Entity Types</option>
                  <option value='uits_status_types_select'>UITS Statuses</option>
                </select>
                <select multiple class="form-control" id="employer_types_select">
                  <%= options_for_select Parties::PartyRoleKind.where(:key.in => [:s_corporation, :c_corporation, :limited_liability_corporation, :limited_liability_partnership, :non_profit_501c3, :other_non_profit, :household_employer]).pluck(:title, :key).to_h %>
                </select>
                <select multiple class="form-control d-none" id="uits_status_types_select">
                  <%= options_for_select Parties::PartyRoleKind.where(:key.in => [:uits_liable, :uits_exempt, :uits_contributing, :uits_reimbursing, :uits_qtr_filer, :uits_annual_filer]).pluck(:title, :key).to_h %>
                </select>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-12 mt-2">
          <div class="card">
            <div class="card-body">
              <h6 class="card-title">Integration Channels</h6>
              <ul class="list-group">
          		  <a class="list-group-item col-5 pb-0 pl-0">
          		    <i></i>
          		    	Department of Labor
          		    <i class="material-icons">
                    <div class="switch">
                      <label>
                      <input type="checkbox" checked>
                        Enabled
                      </label>
                    </div>
                  </i>
          		  </a>
                <a class="list-group-item col-5 pb-0 pt-0 pl-0">
          		    <i></i>
          		    	Internal Revenue Service
          		    <i class="material-icons">
                    <div class="switch">
                      <label>
                      <input type="checkbox">
                        Disabled
                      </label>
                    </div>
                  </i>
          		  </a>
                <a class="list-group-item col-5 pb-0 pt-0 pl-0">
          		    <i></i>
          		    	Integration 3
          		    <i class="material-icons">
                    <div class="switch">
                      <label>
                      <input type="checkbox">
                        Disabled
                      </label>
                    </div>
                  </i>
          		  </a>
                <a class="list-group-item col-5 pb-0 pt-0 pl-0">
          		    <i></i>
          		    	Integration 4
          		    <i class="material-icons">
                    <div class="switch">
                      <label>
                      <input type="checkbox" checked>
                        Enabled
                      </label>
                    </div>
                  </i>
          		  </a>
              </ul>
            </div>
          </div>
        </div>

      </div>


    </div>

    <div class="tab-pane fade" id="pfl-settings" role="tabpanel" aria-labelledby="pfl-settings-tab">
      <div class="row">

        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h6 class="card-title">Configuration Settings</h6>
              <ul class="list-group">
                <a class="list-group-item">
                  Unemployemnt Insurance Contribution Rate Max
                  <i class="material-icons pull-xs-right">
                    3.5%
                  </i>
                </a>
                <a class="list-group-item">
                  Unemployemnt Insurance Contribution Rate
                  <i class="material-icons pull-xs-right">
                    2.2%
                  </i>
                </a>
                <a class="list-group-item">
                  Unemployemnt Insurance Contribution Rate - New Employer
                  <i class="material-icons pull-xs-right">
                    2.7%
                  </i>
                </a>
                <a class="list-group-item">
                  Unemployemnt Insurance Administrative Assessment Rate
                  <i class="material-icons pull-xs-right">
                    0.02%
                  </i>
                </a>
                <a class="list-group-item">
                  Paid Family Leave Contribution Rate
                  <i class="material-icons pull-xs-right">
                    0.063%
                  </i>
                </a>
                <a class="list-group-item">
                  Paid Family Leave Administrative Assessment Rate
                  <i class="material-icons pull-xs-right">
                    0.02%
                  </i>
                </a>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card value-card">
            <div class="card-body">
              <h6 class="card-title">Picklist Values</h6>
              <div class="form-group">
                <label for="exampleFormControlSelect1">Select a field to edit its values</label>
                <select multiple class="form-control" id="exampleFormControlSelect1">
                  <option>Trust</option>
                  <option>Government</option>
                  <option>C Organization</option>
                  <option>S Organization</option>
                  <option>Partnership</option>
                  <option></option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-12 mt-2">
          <div class="card">
            <div class="card-body">
              <h6 class="card-title">Integration Channels</h6>
              <ul class="list-group">
          		  <a class="list-group-item col-5 pb-0 pl-0">
          		    <i></i>
          		    	Department of Labor
          		    <i class="material-icons">
                    <div class="switch">
                      <label>
                      <input type="checkbox" checked>
                        Enabled
                      </label>
                    </div>
                  </i>
          		  </a>
                <a class="list-group-item col-5 pb-0 pt-0 pl-0">
          		    <i></i>
          		    	Internal Revenue Service
          		    <i class="material-icons">
                    <div class="switch">
                      <label>
                      <input type="checkbox">
                        Disabled
                      </label>
                    </div>
                  </i>
          		  </a>
                <a class="list-group-item col-5 pb-0 pt-0 pl-0">
          		    <i></i>
          		    	Integration 3
          		    <i class="material-icons">
                    <div class="switch">
                      <label>
                      <input type="checkbox">
                        Disabled
                      </label>
                    </div>
                  </i>
          		  </a>
                <a class="list-group-item col-5 pb-0 pt-0 pl-0">
          		    <i></i>
          		    	Integration 4
          		    <i class="material-icons">
                    <div class="switch">
                      <label>
                      <input type="checkbox" checked>
                        Enabled
                      </label>
                    </div>
                  </i>
          		  </a>
              </ul>
            </div>
          </div>
        </div>

      </div>


    </div>

    <div class="tab-pane fade" id="nav-permission" role="tabpanel" aria-labelledby="nav-permission-tab">

      <table class="table table-striped table-sm" data-target="settings.permissionTable">
        <thead class="thead-dark">
          <tr id="permissionsHeaderRow">
          </tr>
        </thead>
        <tbody id="permissionsTableBody">
        </tbody>
      </table>
      <button class="btn btn-primary btn-raised" data-action="click->settings#submitPermissions">Set Permissions</button>
    </div>
    <div class="tab-pane fade" id="nav-key" role="tabpanel" aria-labelledby="nav-key-tab">

      <div class="row pl-3">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header text-uppercase">
              Current Keys
            </div>
            <ul class="list-group list-group-flush" id="currentKeysList"></ul>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card">
            <div class="card-header text-uppercase">
              Create New Key
            </div>
            <div class="card-body">
              <%= form_with url: setting_create_key_path('12'), html: { data: { action: 'ajax:beforeSend->settings#validateForm'}, id:'keyForm'} do |form| %>
                <div class="form-group">
                  <label for="keyName" class="bmd-label-floating">Name</label>
                  <%= form.text_field :name, id:'keyName', data: {action:'settings#keyNameValid', target:'settings.keyName'}, class:'form-control', required:true %>
                  <span class="bmd-help">Please enter a valid key name.</span>
                </div>
                <br />
                <div class="form-group">
                  <%= form.submit class:'btn btn-primary btn-lg btn-raised btn-block mt-2' %>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>

    </div>
    <div class="tab-pane fade" id="nav-role" role="tabpanel" aria-labelledby="nav-role-tab">
      <div class="row pl-3">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header text-uppercase">
              Current Roles
            </div>
            <ul class="list-group list-group-flush" id="currentRolesList"></ul>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card">
            <div class="card-header text-uppercase">
              Create New Role
            </div>
            <div class="card-body">
              <%= form_with url: setting_create_role_path('12'), html: { data: { action: 'ajax:beforeSend->settings#validateForm'}, id:'roleForm'} do |form| %>
                <div class="form-group">
                  <label for="roleName" class="bmd-label-floating">Name</label>
                  <%= form.text_field :name, id:'roleName', data: {action:'settings#roleNameValid', target:'settings.roleName'}, class:'form-control', required:true %>
                  <span class="bmd-help">Please enter a valid role name.</span>
                </div>
                <br />
                <div class="form-group">
                  <%= form.submit class:'btn btn-primary btn-lg btn-raised btn-block mt-2' %>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Warning</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" id="mdlTxt"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Confirmation Modal -->
  <div class="modal" tabindex="-1" role="dialog" id="confirmationModal" data-backdrop="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Warning</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p id="modalText"></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-action="click->settings#performAction">Save changes</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


</div>
